GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 1
SAGD Optimization - MILNP Algorithm
C o m p i l a t i o n


              This is the main file for the SAGD Water Treatment Optimization using the
              MILNP Optimization.
   6   
   7   
   8  *INITIALIZE SETS, DATA, and VARIABLE
   9   
INCLUDE    C:\Users\Zain\Documents\GitHub\water_treatment\sets_init.gms
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 2
sets_init
C o m p i l a t i o n


  12   
  13  *SUPERSETS
  14   
  15  sets
  16   
  17          tu              'treatment unit'
  18                  / st    skim tank
  19                    igf   induced gas flotation
  20                    orf   oil removal filter
  21                    hcy   hydro-cyclone
  22                    ls    warm-hot lime softener
  23                    evap  evaporator
  24                    wac   weak acid cation exchanger
  25                  /
  26   
  27          c               'contaminant'
  28                  / o     oil
  29                    s     silica
  30                    th    total hardness
  31                    tss   total suspended solids
  32                  /
  33   
  34          s               'water source'
  35                  / pw    produced water
  36                    muw   make-up water
  37                    bbd   boiler blowdown
  38                  /
  39   
  40          cs      'steam generation cases'
  41                  /1*4/ ;
  42   
  43  alias(tu,tup);
  44   
  45   
  46   
  47   
INCLUDE    C:\Users\Zain\Documents\GitHub\water_treatment\params_init.gms
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 3
params_init
C o m p i l a t i o n


  50   
       
      The parameters for flow rates, concentrations, mass loads, cost, and others are
      initialized in this script.
       
      ***PARAMETERS ARE FOR CASE 1 ONLY FOR NOW***
      ***NEED TO FIND INFO FOR F_loss(tu), C_in_max(tu,c), C_loss(tu,c), and ALL cost parameters
  59   
  60  *FLOW RATES-------------------------------------------------------------------------------
  61   
  62  scalar F_BFW    'boiler feed water flow'
  63          /                       625 /;
  64   
      parameter F_s(s) 'flow of stream s'
              /         pw    475
                        bbd   0
                              /;
      F_s('muw') = F_BFW - F_s('pw') - F_s('bbd');
  72   
  73   
  74  parameter F_loss(tu)    'flow loss in tu'
  75          /         st    0
  76                    igf   0
  77                    orf   0
  78                    hcy   0
  79                    ls    0
  80                    evap  0
  81                    wac   0       /;
  82   
  83  *CONCENTRATIONS---------------------------------------------------------------------------
  84  *did not include C(s,tu,c) and C_ave(c) - they were not used in the equations
  85   
  86  table C_c_s(s,c)        'concentration of c in s'
  87                     o         s       th      tss
  88            pw       2000     350     20       50
  89            muw      0        15      245      0
  90            bbd      10       150     1        1       ;
  91  **pw and muw data collected from Forshomi thesis Table 3-1
  92  **muw is assumed to be fresh no brackish
  93  **bbd data collected from Forshomi appendix A Table A3 for OTSG
  94   
  95  table C_in_max(tu,c)    'maximum allowable inlet concentration of c in tu'
  96                  o               s               th              tss
  97  st              2500            400             400             100
  98  igf             2500            400             400             100
  99  orf             2500            400             400             100
 100  hcy             2500            400             400             100
 101  ls              2500            400             400             100
 102  evap            2500            400             400             100
 103  wac             2500            400             400             100     ;
 104   
 105  table C_loss(tu,c)      'concentration loss of c in tu'
 106                  o               s               th              tss
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 4
params_init
C o m p i l a t i o n


 107  st              0               0               0               0
 108  igf             0               0               0               0
 109  orf             0               0               0               0
 110  hcy             0               0               0               0
 111  ls              0               0               0               0
 112  evap            0               0               0               0
 113  wac             0               0               0               0       ;
 114   
 115  parameter C_target(c)   'target concentration required at discharge'
 116          /       o               10
 117                  s               150
 118                  th              1
 119                  tss             1       /;
 120   
 121  *MASS LOADS-------------------------------------------------------------------------------
 122  *did not include ML_tot(c) - it was not used in the equations
 123   
      parameter ML_rem_c(c)   'mass load of contaminant to be removed from the system';
              ML_rem_c(c) = sum( s, F_s(s) * (C_c_s(s,c) - C_target(c)) );
      ** E17 - double check this formula, there might be problems with brackets**
 129   
 130  *COST PARAMETERS--------------------------------------------------------------------------
 131   
 132  parameter cost_var_s(s) 'variable cost of s'
 133          /       pw              1
 134                  muw             1
 135                  bbd             1       /;
 136   
 137  parameter cost_fix_s(s) 'fixed cost of s'
 138          /       pw              0
 139                  muw             400
 140                  bbd             0       /;
 141   
 142  parameter cost_var_tu_a(tu)       'variable cost of tu'
 143                  /  st              109.26
 144                     igf             432.94
 145                     orf             0
 146                     hcy             1
 147                     ls              5388
 148                     evap            15529
 149                     wac             494.23       /;
 150   
 151  parameter cost_var_tu_b(tu)       'variable cost of tu'
 152                  /  st              0
 153                     igf             23585
 154                     orf             0
 155                     hcy             1
 156                     ls              -479602
 157                     evap            10626
 158                     wac             -31.142       /;
 159   
 160   
 161  parameter cost_fix_tu_a(tu)     'fixed cost of tu - function slope'
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 5
params_init
C o m p i l a t i o n


 162             /       st              2989.5
 163                     igf             1906.7
 164                     orf             1248.9
 165                     hcy             3000
 166                     ls              9705.5
 167                     evap            28723
 168                     wac             1550.9       /;
 169   
 170   
 171  parameter cost_fix_tu_b(tu)     'fixed cost of tu - function intercept'
 172             /       st              0
 173                     igf             12292
 174                     orf             -401.99
 175                     hcy             50000
 176                     ls              -860733
 177                     evap            12926
 178                     wac             -317.74       /;
 179   
 180  *OTHER PARAMETERS-------------------------------------------------------------------------
 181   
 182  table RR(tu,c)  'removal ratio of contaminant c'
 183                             o       s       th      tss
 184             st              0.9     0       0       0.5
 185             igf             0.9     0       0       0.7
 186             orf             0.91    0       0       0.95
 187             hcy             0.93    0       0       0
 188             ls              0       0.9     0.5     0
 189             evap            0.99    0.99    0.99    0.99
 190             wac             0       0       0.99    0       ;
 191   
 192  scalar Bound_up 'upper bound for stream flow rates';
 193          Bound_up = F_BFW + sum(tu, F_loss(tu));
 194  *EQN 20
 195  Display Bound_up ;
 196  scalar Bound_low        'lower bound for stream flow rates'
 197          /20/;
 198  *arbitrary values - model values not given by Forshomi
 199   
 200  parameter NS_max(tu)    'maximum number of streams that can go through tu'
 201          /         st    5
 202                    igf   5
 203                    orf   5
 204                    hcy   5
 205                    ls    5
 206                    evap  5
 207                    wac   5      /;
 208  *arbitrary values - model values not given by Forshomi
 209   
 210  scalar HY       'number of operational hours per year'
 211          /8322/;
 212  **assuming 95% on-stream time
 213   
 214   
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 6
params_init
C o m p i l a t i o n


 215   
 216   
 217   
 218   
 219   
 220   
 221   
 222   
 223   
 224   
 225   
 226   
INCLUDE    C:\Users\Zain\Documents\GitHub\water_treatment\vars_init.gms
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 7
vars_init
C o m p i l a t i o n


 229   
       
      The variables for flow rates, concentrations, mass loads, cost, and others are
      initialized in this script.
       
 236   
 237  *FLOW RATES
 238   
 239  positive variables
 240          F_s(s)                  'flow rate of source water'
 241          F_s_tu(s,tu)    'flow rate of s entering tu'
 242          F_rec(tup,tu)   'flow rate of streams exiting tu that enter tup for recycle'
 243          F_exit(tu)              'flow rate of streams leaving tu to the discharge point'
 244          F_in(tu)                'flow rate of streams entering tu'
 245          F_out(tu)               'flow rate of streams directly exiting tu'      ;
 246   
 247  F_s.fx('pw') = 475 ;
 248  F_s.fx('bbd') = 0 ;
 249   
 250  F_rec.fx('st','st') = 0;
 251  F_rec.fx('igf','igf') = 0;
 252  F_rec.fx('orf','orf') = 0;
 253  F_rec.fx('hcy','hcy') = 0;
 254  F_rec.fx('ls','ls') = 0;
 255  F_rec.fx('evap','evap') = 0;
 256  F_rec.fx('wac','wac') = 0;
 257  *CONCENTRATIONS
 258   
 259  positive variables
 260          C_in(tu,c)              'concentration of c in tu inlet'
 261          C_rout(tu,tup,c)        'concentration of c exiting tu and entering tup for recycle'
 262          C_exit(tu,c)    'concentration of c leaving tu to the discharge point'
 263          C_out(tu,c)             'concentration of stream directly exiting tu'
 264          C_BFW(c)                'concentration of c in BFW'     ;
 265   
 266  *MASS LOADS
 267   
 268  positive variables
 269          ML_rem_tu_c(tu,c)       'mass load of c removed from tu'
 270          ML_in(tu,c)             'mass load of c entering tu'
 271          ML_out(tu,c)    'mass load of c exiting tu'
 272          ML_rem_c(c)             'mass load of c removed from system'    ;
 273   
 274  *COST AND ENERGY VARIABLES
 275   
 276  positive variables
 277          Cost_tot_tu(tu) 'total cost of tu'
 278          Cost_op                 'operating cost of the system'
 279          Cost_cap                'capital cost of the system'
 280          Cost_tot                'total capital cost of the system'
 281          energy_var(tu)  'energy consumption of tu'
 282          energy_tot              'total energy consumption of the system' ;
 283   
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 8
vars_init
C o m p i l a t i o n


 284  *BINARY VARIABLES
 285   
 286  binary variables
 287          B_s_tu(s,tu)    'binary variable to show the existence of stream s into tu'
 288          B_tu_tup(tu,tup)        'binary variable to show the existence of tu into tup recylce'
 289          B_exit(tu)              'binary variable to show the existence of stream from tu to discharge'
 290          B_tu(tu)                'binary variable to show the existence of tu' ;
 291   
 292  *OBJECT
 293   
 294  variable
 295          obj                             'objective variable' ;
 296   
 297   
 298  *EQUATIONS
 299   
INCLUDE    C:\Users\Zain\Documents\GitHub\water_treatment\minlp_eqns.gms
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                         09/13/17 21:47:56 Page 9
minlp_eqns
C o m p i l a t i o n


 302   
       
      The equations for the MINLP algorithm are provided in this file
       
 308   
 309   
 310  *ML of C to be Removed from System
 311  equation eq17(c); eq17(c) .. ML_rem_c(c) =e= sum( s, F_s(s) * (C_c_s(s,c) - C_target(c)) );
 312   
 313  *Overall Mass Balance
 314  equation eq4; eq4 .. sum(s, F_s(s)) - F_BFW =e= sum(tu, F_loss(tu)) ;
 315   
 316  *Splitter 1 Mass Balance
 317  equation eq5(s); eq5(s) .. F_s(s) =e= sum(tu, F_s_tu(s,tu)) ;
 318   
 319  *Limiting Flow from S to TU
 320  equation eq21(s,tu); eq21(s,tu) .. F_s_tu(s,tu) - B_s_tu(s,tu) * Bound_up =l= 0 ;
 321  equation eq25(s,tu); eq25(s,tu) .. F_s_tu(s,tu) - B_s_tu(s,tu) * Bound_low =g= 0 ;
 322   
 323  *Mixer 1 Mass Balance
 324  equation eq6(tu); eq6(tu) .. sum(s, F_s_tu(s,tu)) + sum(tup, F_rec(tup,tu))  =e= F_in(tu) ;
 325   
 326   
 327  *Limiting TU Inlet Flow
 328  equation eq24(tu); eq24(tu) .. F_in(tu) - B_tu(tu) * Bound_up * 2 =l= 0 ;
 329  equation eq28(tu); eq28(tu) .. F_in(tu) - B_tu(tu) * Bound_low =g= 0 ;
 330   
 331  *TU Mass Balance
 332  equation eq9(tu); eq9(tu) .. F_in(tu) - F_out(tu) =e= F_loss(tu) ;
 333   
 334  *TU Component Mass Balance
 335  equation eq12(tu,c); eq12(tu,c) .. sum(tup, F_rec(tup,tu) * C_out(tup,c)) + sum(s, F_s_tu(s,tu) * C_c_s(s,c)) =e= ML_in(tu,c) ;
 336  equation eq13(tu,c); eq13(tu,c) .. C_out(tu,c) * ( sum(tup, F_rec(tu,tup)) + F_exit(tu) ) =e= ML_out(tu,c) ;
 337  equation eq10(tu,c); eq10(tu,c) .. (1 - RR(tu,c)) * ML_in(tu,c) - ML_out(tu,c) - F_loss(tu) * C_loss(tu,c) =e= 0 ;
 338  *equation eq11(tu,c); eq11(tu,c) .. ML_in(tu,c) - ML_out(tu,c) - ML_rem_tu_c(tu,c) =e= F_loss(tu) * C_loss(tu,c) ;
 339   
 340  *Concentration Limit for TUs
 341  equation eq14(tu,c); eq14(tu,c) .. ML_in(tu,c) =l= C_in_max(tu,c) * F_in(tu);
 342   
 343  *Splitter 2 Mass Balance - Recycle
 344  equation eq7(tu); eq7(tu) .. F_out(tu) =e= sum(tup, F_rec(tu,tup)) + F_exit(tu) ;
 345   
 346  *Eliminiating Repeated Recycle
 347  equation eq19(tu,tup); eq19(tu,tup)$(ord(tup) ne ord(tu)) .. B_tu_tup(tu,tup) + B_tu_tup(tup,tu) =l= 1 ;
 348   
 349  *Limiting Maximum Number of Strems in TU
 350  equation eq29(tu); eq29(tu) .. sum(s, B_s_tu(s,tu)) + sum( tup, B_tu_tup(tu,tup)) =l= NS_max(tu) ;
 351   
 352  *Limiting Flow from Recycles
 353  equation eq22(tu,tup); eq22(tu,tup) .. F_rec(tu,tup) - B_tu_tup(tu,tup) * Bound_up =l= 0 ;
 354  equation eq26(tu,tup); eq26(tu,tup) .. F_rec(tu,tup) - B_tu_tup(tu,tup) * Bound_low =g= 0 ;
 355   
 356  *Mixer 3 Mass Balance
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 10
minlp_eqns
C o m p i l a t i o n


 357  equation eq8; eq8 .. sum(tu, F_exit(tu)) =e= F_BFW ;
 358   
 359  *Mixer 3 Component Mass Balance
 360  equation eqX(c); eqX(c) .. sum(tu, F_exit(tu) * C_out(tu,c)) =e= C_BFW(c) * F_BFW ;
 361   
 362  *Limiting TU Exit Flow
 363  equation eq23(tu); eq23(tu) .. F_exit(tu) - B_exit(tu) * Bound_up =l= 0 ;
 364  equation eq27(tu); eq27(tu) .. F_exit(tu) - B_exit(tu) * Bound_low =g= 0 ;
 365   
 366   
 367   
 368  *BFW Concentration Requirements
 369  equation eq15(c); eq15(c) .. C_BFW(c) * F_BFW =l= C_target(c) * sum(tu, F_exit(tu)) ;
 370   
 371   
 372   
 373  *Constraint to Ensure ML of C is Removed from the System
 374  *equation eq16(c); eq16(c) .. ML_rem_c(c) =l= sum(tu, RR(tu,c) * ML_in(tu,c)) ;
 375   
 376  *Cost / Energy of TUs
 377  equation eq18(tu); eq18(tu) .. Cost_tot_tu(tu) =e= Cost_var_tu_a(tu) * F_in(tu) + Cost_var_tu_b(tu) * B_tu(tu) + cost_fix_tu_a(tu) * F_in(tu) + cost_fix_tu_b(tu) * B_tu(tu);
 378   
 379  *Cost / Energy of System
 380  equation eq2; eq2 .. Cost_tot =e= sum(tu, Cost_tot_tu(tu)) + HY * sum(s, F_s(s) * cost_var_s(s)) ;
 381   
 382  *Objective Equation
 383  equation objective; objective .. obj =e= Cost_tot ;
 384   
 385   
 386   
 387   
 388   
 389   
 390   
 391   
 392   
 393   
 394   
 395   
 396   
 397  *SOLVE MINLP
 398   
 399  model water /all/ ;
 400   
 401  option minlp=baron;
 402  option nlp=baron;
 403   
 404  Solve  water using minlp minimization obj ;
 405   
 406   
 410   
 411  execute_unload 'minlp_main.gdx'
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 11
minlp_eqns
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\Zain\Documents\GitHub\water_treatment\minlp_main.gms
     2       10 INCLUDE        1      10  .C:\Users\Zain\Documents\GitHub\water_treatment\sets_init.gms
     3       48 INCLUDE        1      11  .C:\Users\Zain\Documents\GitHub\water_treatment\params_init.gms
     4      227 INCLUDE        1      12  .C:\Users\Zain\Documents\GitHub\water_treatment\vars_init.gms
     5      300 INCLUDE        1      16  .C:\Users\Zain\Documents\GitHub\water_treatment\minlp_eqns.gms
     6      407 GDXOUT         1      28  C:\Users\Zain\Documents\GitHub\water_treatment\minlp_main.gdx


COMPILATION TIME     =        0.016 SECONDS      3 Mb  WEX239-239 Nov  9, 2012
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 12
minlp_eqns
E x e c u t i o n


----    195 PARAMETER Bound_up             =      625.000  upper bound for stream flow rates
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 13
minlp_eqns
Equation Listing    SOLVE water Using MINLP From line 404


---- eq17  =E=  

eq17(o)..  - 1990*F_s(pw) + 10*F_s(muw) + ML_rem_c(o) =E= 0 ; (LHS = -945250, INFES = 945250 ****)
     
eq17(s)..  - 200*F_s(pw) + 135*F_s(muw) + ML_rem_c(s) =E= 0 ; (LHS = -95000, INFES = 95000 ****)
     
eq17(th)..  - 19*F_s(pw) - 244*F_s(muw) + ML_rem_c(th) =E= 0 ; (LHS = -9025, INFES = 9025 ****)
     
REMAINING ENTRY SKIPPED


---- eq4  =E=  

eq4..  F_s(pw) + F_s(muw) + F_s(bbd) =E= 625 ; (LHS = 475, INFES = 150 ****)
     

---- eq5  =E=  

eq5(pw)..  F_s(pw) - F_s_tu(pw,st) - F_s_tu(pw,igf) - F_s_tu(pw,orf) - F_s_tu(pw,hcy) - F_s_tu(pw,ls) - F_s_tu(pw,evap) - F_s_tu(pw,wac) =E= 0 ; (LHS = 475, INFES = 475 ****)
     
eq5(muw)..  F_s(muw) - F_s_tu(muw,st) - F_s_tu(muw,igf) - F_s_tu(muw,orf) - F_s_tu(muw,hcy) - F_s_tu(muw,ls) - F_s_tu(muw,evap) - F_s_tu(muw,wac) =E= 0 ; (LHS = 0)
     
eq5(bbd)..  F_s(bbd) - F_s_tu(bbd,st) - F_s_tu(bbd,igf) - F_s_tu(bbd,orf) - F_s_tu(bbd,hcy) - F_s_tu(bbd,ls) - F_s_tu(bbd,evap) - F_s_tu(bbd,wac) =E= 0 ; (LHS = 0)
     

---- eq21  =L=  

eq21(pw,st)..  F_s_tu(pw,st) - 625*B_s_tu(pw,st) =L= 0 ; (LHS = 0)
     
eq21(pw,igf)..  F_s_tu(pw,igf) - 625*B_s_tu(pw,igf) =L= 0 ; (LHS = 0)
     
eq21(pw,orf)..  F_s_tu(pw,orf) - 625*B_s_tu(pw,orf) =L= 0 ; (LHS = 0)
     
REMAINING 18 ENTRIES SKIPPED


---- eq25  =G=  

eq25(pw,st)..  F_s_tu(pw,st) - 20*B_s_tu(pw,st) =G= 0 ; (LHS = 0)
     
eq25(pw,igf)..  F_s_tu(pw,igf) - 20*B_s_tu(pw,igf) =G= 0 ; (LHS = 0)
     
eq25(pw,orf)..  F_s_tu(pw,orf) - 20*B_s_tu(pw,orf) =G= 0 ; (LHS = 0)
     
REMAINING 18 ENTRIES SKIPPED


---- eq6  =E=  

eq6(st)..  F_s_tu(pw,st) + F_s_tu(muw,st) + F_s_tu(bbd,st) + F_rec(st,st) + F_rec(igf,st) + F_rec(orf,st) + F_rec(hcy,st) + F_rec(ls,st) + F_rec(evap,st) + F_rec(wac,st) - F_in(st) =E= 0 ; (LHS = 0)
     
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 14
minlp_eqns
Equation Listing    SOLVE water Using MINLP From line 404


     eq6  =E=  

eq6(igf)..  F_s_tu(pw,igf) + F_s_tu(muw,igf) + F_s_tu(bbd,igf) + F_rec(st,igf) + F_rec(igf,igf) + F_rec(orf,igf) + F_rec(hcy,igf) + F_rec(ls,igf) + F_rec(evap,igf) + F_rec(wac,igf) - F_in(igf) =E= 0 ; (LHS = 0)
     
eq6(orf)..  F_s_tu(pw,orf) + F_s_tu(muw,orf) + F_s_tu(bbd,orf) + F_rec(st,orf) + F_rec(igf,orf) + F_rec(orf,orf) + F_rec(hcy,orf) + F_rec(ls,orf) + F_rec(evap,orf) + F_rec(wac,orf) - F_in(orf) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq24  =L=  

eq24(st)..  F_in(st) - 1250*B_tu(st) =L= 0 ; (LHS = 0)
     
eq24(igf)..  F_in(igf) - 1250*B_tu(igf) =L= 0 ; (LHS = 0)
     
eq24(orf)..  F_in(orf) - 1250*B_tu(orf) =L= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq28  =G=  

eq28(st)..  F_in(st) - 20*B_tu(st) =G= 0 ; (LHS = 0)
     
eq28(igf)..  F_in(igf) - 20*B_tu(igf) =G= 0 ; (LHS = 0)
     
eq28(orf)..  F_in(orf) - 20*B_tu(orf) =G= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq9  =E=  

eq9(st)..  F_in(st) - F_out(st) =E= 0 ; (LHS = 0)
     
eq9(igf)..  F_in(igf) - F_out(igf) =E= 0 ; (LHS = 0)
     
eq9(orf)..  F_in(orf) - F_out(orf) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq12  =E=  

eq12(st,o)..  2000*F_s_tu(pw,st) + 10*F_s_tu(bbd,st) + (0)*F_rec(st,st) + (0)*F_rec(igf,st) + (0)*F_rec(orf,st) + (0)*F_rec(hcy,st) + (0)*F_rec(ls,st) + (0)*F_rec(evap,st) + (0)*F_rec(wac,st) + (0)*C_out(st,o) + (0)*C_out(igf,o) + (0)*C_out(orf,o)
     
      + (0)*C_out(hcy,o) + (0)*C_out(ls,o) + (0)*C_out(evap,o) + (0)*C_out(wac,o) - ML_in(st,o) =E= 0 ; (LHS = 0)
     
eq12(st,s)..  350*F_s_tu(pw,st) + 15*F_s_tu(muw,st) + 150*F_s_tu(bbd,st) + (0)*F_rec(st,st) + (0)*F_rec(igf,st) + (0)*F_rec(orf,st) + (0)*F_rec(hcy,st) + (0)*F_rec(ls,st) + (0)*F_rec(evap,st) + (0)*F_rec(wac,st) + (0)*C_out(st,s) + (0)*C_out(igf,s)
     
      + (0)*C_out(orf,s) + (0)*C_out(hcy,s) + (0)*C_out(ls,s) + (0)*C_out(evap,s) + (0)*C_out(wac,s) - ML_in(st,s) =E= 0 ; (LHS = 0)
     
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 15
minlp_eqns
Equation Listing    SOLVE water Using MINLP From line 404


     eq12  =E=  

eq12(st,th)..  20*F_s_tu(pw,st) + 245*F_s_tu(muw,st) + F_s_tu(bbd,st) + (0)*F_rec(st,st) + (0)*F_rec(igf,st) + (0)*F_rec(orf,st) + (0)*F_rec(hcy,st) + (0)*F_rec(ls,st) + (0)*F_rec(evap,st) + (0)*F_rec(wac,st) + (0)*C_out(st,th) + (0)*C_out(igf,th)
     
      + (0)*C_out(orf,th) + (0)*C_out(hcy,th) + (0)*C_out(ls,th) + (0)*C_out(evap,th) + (0)*C_out(wac,th) - ML_in(st,th) =E= 0 ; (LHS = 0)
     
REMAINING 25 ENTRIES SKIPPED


---- eq13  =E=  

eq13(st,o)..  (0)*F_rec(st,st) + (0)*F_rec(st,igf) + (0)*F_rec(st,orf) + (0)*F_rec(st,hcy) + (0)*F_rec(st,ls) + (0)*F_rec(st,evap) + (0)*F_rec(st,wac) + (0)*F_exit(st) + (0)*C_out(st,o) - ML_out(st,o) =E= 0 ; (LHS = 0)
     
eq13(st,s)..  (0)*F_rec(st,st) + (0)*F_rec(st,igf) + (0)*F_rec(st,orf) + (0)*F_rec(st,hcy) + (0)*F_rec(st,ls) + (0)*F_rec(st,evap) + (0)*F_rec(st,wac) + (0)*F_exit(st) + (0)*C_out(st,s) - ML_out(st,s) =E= 0 ; (LHS = 0)
     
eq13(st,th)..  (0)*F_rec(st,st) + (0)*F_rec(st,igf) + (0)*F_rec(st,orf) + (0)*F_rec(st,hcy) + (0)*F_rec(st,ls) + (0)*F_rec(st,evap) + (0)*F_rec(st,wac) + (0)*F_exit(st) + (0)*C_out(st,th) - ML_out(st,th) =E= 0 ; (LHS = 0)
     
REMAINING 25 ENTRIES SKIPPED


---- eq10  =E=  

eq10(st,o)..  0.1*ML_in(st,o) - ML_out(st,o) =E= 0 ; (LHS = 0)
     
eq10(st,s)..  ML_in(st,s) - ML_out(st,s) =E= 0 ; (LHS = 0)
     
eq10(st,th)..  ML_in(st,th) - ML_out(st,th) =E= 0 ; (LHS = 0)
     
REMAINING 25 ENTRIES SKIPPED


---- eq14  =L=  

eq14(st,o)..  - 2500*F_in(st) + ML_in(st,o) =L= 0 ; (LHS = 0)
     
eq14(st,s)..  - 400*F_in(st) + ML_in(st,s) =L= 0 ; (LHS = 0)
     
eq14(st,th)..  - 400*F_in(st) + ML_in(st,th) =L= 0 ; (LHS = 0)
     
REMAINING 25 ENTRIES SKIPPED


---- eq7  =E=  

eq7(st)..  - F_rec(st,st) - F_rec(st,igf) - F_rec(st,orf) - F_rec(st,hcy) - F_rec(st,ls) - F_rec(st,evap) - F_rec(st,wac) - F_exit(st) + F_out(st) =E= 0 ; (LHS = 0)
     
eq7(igf)..  - F_rec(igf,st) - F_rec(igf,igf) - F_rec(igf,orf) - F_rec(igf,hcy) - F_rec(igf,ls) - F_rec(igf,evap) - F_rec(igf,wac) - F_exit(igf) + F_out(igf) =E= 0 ; (LHS = 0)
     
eq7(orf)..  - F_rec(orf,st) - F_rec(orf,igf) - F_rec(orf,orf) - F_rec(orf,hcy) - F_rec(orf,ls) - F_rec(orf,evap) - F_rec(orf,wac) - F_exit(orf) + F_out(orf) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED

GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 16
minlp_eqns
Equation Listing    SOLVE water Using MINLP From line 404


---- eq19  =L=  

eq19(st,igf)..  B_tu_tup(st,igf) + B_tu_tup(igf,st) =L= 1 ; (LHS = 0)
     
eq19(st,orf)..  B_tu_tup(st,orf) + B_tu_tup(orf,st) =L= 1 ; (LHS = 0)
     
eq19(st,hcy)..  B_tu_tup(st,hcy) + B_tu_tup(hcy,st) =L= 1 ; (LHS = 0)
     
REMAINING 39 ENTRIES SKIPPED


---- eq29  =L=  

eq29(st)..  B_s_tu(pw,st) + B_s_tu(muw,st) + B_s_tu(bbd,st) + B_tu_tup(st,st) + B_tu_tup(st,igf) + B_tu_tup(st,orf) + B_tu_tup(st,hcy) + B_tu_tup(st,ls) + B_tu_tup(st,evap) + B_tu_tup(st,wac) =L= 5 ; (LHS = 0)
     
eq29(igf)..  B_s_tu(pw,igf) + B_s_tu(muw,igf) + B_s_tu(bbd,igf) + B_tu_tup(igf,st) + B_tu_tup(igf,igf) + B_tu_tup(igf,orf) + B_tu_tup(igf,hcy) + B_tu_tup(igf,ls) + B_tu_tup(igf,evap) + B_tu_tup(igf,wac) =L= 5 ; (LHS = 0)
     
eq29(orf)..  B_s_tu(pw,orf) + B_s_tu(muw,orf) + B_s_tu(bbd,orf) + B_tu_tup(orf,st) + B_tu_tup(orf,igf) + B_tu_tup(orf,orf) + B_tu_tup(orf,hcy) + B_tu_tup(orf,ls) + B_tu_tup(orf,evap) + B_tu_tup(orf,wac) =L= 5 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq22  =L=  

eq22(st,st)..  F_rec(st,st) - 625*B_tu_tup(st,st) =L= 0 ; (LHS = 0)
     
eq22(st,igf)..  F_rec(st,igf) - 625*B_tu_tup(st,igf) =L= 0 ; (LHS = 0)
     
eq22(st,orf)..  F_rec(st,orf) - 625*B_tu_tup(st,orf) =L= 0 ; (LHS = 0)
     
REMAINING 46 ENTRIES SKIPPED


---- eq26  =G=  

eq26(st,st)..  F_rec(st,st) - 20*B_tu_tup(st,st) =G= 0 ; (LHS = 0)
     
eq26(st,igf)..  F_rec(st,igf) - 20*B_tu_tup(st,igf) =G= 0 ; (LHS = 0)
     
eq26(st,orf)..  F_rec(st,orf) - 20*B_tu_tup(st,orf) =G= 0 ; (LHS = 0)
     
REMAINING 46 ENTRIES SKIPPED


---- eq8  =E=  

eq8..  F_exit(st) + F_exit(igf) + F_exit(orf) + F_exit(hcy) + F_exit(ls) + F_exit(evap) + F_exit(wac) =E= 625 ; (LHS = 0, INFES = 625 ****)
     
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 17
minlp_eqns
Equation Listing    SOLVE water Using MINLP From line 404


---- eqX  =E=  

eqX(o)..  (0)*F_exit(st) + (0)*F_exit(igf) + (0)*F_exit(orf) + (0)*F_exit(hcy) + (0)*F_exit(ls) + (0)*F_exit(evap) + (0)*F_exit(wac) + (0)*C_out(st,o) + (0)*C_out(igf,o) + (0)*C_out(orf,o) + (0)*C_out(hcy,o) + (0)*C_out(ls,o) + (0)*C_out(evap,o)
     
      + (0)*C_out(wac,o) - 625*C_BFW(o) =E= 0 ; (LHS = 0)
     
eqX(s)..  (0)*F_exit(st) + (0)*F_exit(igf) + (0)*F_exit(orf) + (0)*F_exit(hcy) + (0)*F_exit(ls) + (0)*F_exit(evap) + (0)*F_exit(wac) + (0)*C_out(st,s) + (0)*C_out(igf,s) + (0)*C_out(orf,s) + (0)*C_out(hcy,s) + (0)*C_out(ls,s) + (0)*C_out(evap,s)
     
      + (0)*C_out(wac,s) - 625*C_BFW(s) =E= 0 ; (LHS = 0)
     
eqX(th)..  (0)*F_exit(st) + (0)*F_exit(igf) + (0)*F_exit(orf) + (0)*F_exit(hcy) + (0)*F_exit(ls) + (0)*F_exit(evap) + (0)*F_exit(wac) + (0)*C_out(st,th) + (0)*C_out(igf,th) + (0)*C_out(orf,th) + (0)*C_out(hcy,th) + (0)*C_out(ls,th) + (0)*C_out(evap,th)
     
      + (0)*C_out(wac,th) - 625*C_BFW(th) =E= 0 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED


---- eq23  =L=  

eq23(st)..  F_exit(st) - 625*B_exit(st) =L= 0 ; (LHS = 0)
     
eq23(igf)..  F_exit(igf) - 625*B_exit(igf) =L= 0 ; (LHS = 0)
     
eq23(orf)..  F_exit(orf) - 625*B_exit(orf) =L= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq27  =G=  

eq27(st)..  F_exit(st) - 20*B_exit(st) =G= 0 ; (LHS = 0)
     
eq27(igf)..  F_exit(igf) - 20*B_exit(igf) =G= 0 ; (LHS = 0)
     
eq27(orf)..  F_exit(orf) - 20*B_exit(orf) =G= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq15  =L=  

eq15(o)..  - 10*F_exit(st) - 10*F_exit(igf) - 10*F_exit(orf) - 10*F_exit(hcy) - 10*F_exit(ls) - 10*F_exit(evap) - 10*F_exit(wac) + 625*C_BFW(o) =L= 0 ; (LHS = 0)
     
eq15(s)..  - 150*F_exit(st) - 150*F_exit(igf) - 150*F_exit(orf) - 150*F_exit(hcy) - 150*F_exit(ls) - 150*F_exit(evap) - 150*F_exit(wac) + 625*C_BFW(s) =L= 0 ; (LHS = 0)
     
eq15(th)..  - F_exit(st) - F_exit(igf) - F_exit(orf) - F_exit(hcy) - F_exit(ls) - F_exit(evap) - F_exit(wac) + 625*C_BFW(th) =L= 0 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED

GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 18
minlp_eqns
Equation Listing    SOLVE water Using MINLP From line 404


---- eq18  =E=  

eq18(st)..  - 3098.76*F_in(st) + Cost_tot_tu(st) =E= 0 ; (LHS = 0)
     
eq18(igf)..  - 2339.64*F_in(igf) + Cost_tot_tu(igf) - 35877*B_tu(igf) =E= 0 ; (LHS = 0)
     
eq18(orf)..  - 1248.9*F_in(orf) + Cost_tot_tu(orf) + 401.99*B_tu(orf) =E= 0 ; (LHS = 0)
     
REMAINING 4 ENTRIES SKIPPED


---- eq2  =E=  

eq2..  - 8322*F_s(pw) - 8322*F_s(muw) - 8322*F_s(bbd) - Cost_tot_tu(st) - Cost_tot_tu(igf) - Cost_tot_tu(orf) - Cost_tot_tu(hcy) - Cost_tot_tu(ls) - Cost_tot_tu(evap) - Cost_tot_tu(wac) + Cost_tot =E= 0 ; (LHS = -3952950, INFES = 3952950 ****)
     

---- objective  =E=  

objective..  - Cost_tot + obj =E= 0 ; (LHS = 0)
     
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 19
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


---- F_s  flow rate of source water

F_s(pw)
                (.LO, .L, .UP, .M = 475, 475, 475, 0)
    -1990       eq17(o)
     -200       eq17(s)
      -19       eq17(th)
      -49       eq17(tss)
        1       eq4
        1       eq5(pw)
    -8322       eq2

F_s(muw)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       10       eq17(o)
      135       eq17(s)
     -244       eq17(th)
        1       eq17(tss)
        1       eq4
        1       eq5(muw)
    -8322       eq2

F_s(bbd)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       eq4
        1       eq5(bbd)
    -8322       eq2


---- F_s_tu  flow rate of s entering tu

F_s_tu(pw,st)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq5(pw)
        1       eq21(pw,st)
        1       eq25(pw,st)
        1       eq6(st)
     2000       eq12(st,o)
      350       eq12(st,s)
       20       eq12(st,th)
       50       eq12(st,tss)

F_s_tu(pw,igf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq5(pw)
        1       eq21(pw,igf)
        1       eq25(pw,igf)
        1       eq6(igf)
     2000       eq12(igf,o)
      350       eq12(igf,s)
       20       eq12(igf,th)
       50       eq12(igf,tss)

GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 20
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     F_s_tu  flow rate of s entering tu

F_s_tu(pw,orf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq5(pw)
        1       eq21(pw,orf)
        1       eq25(pw,orf)
        1       eq6(orf)
     2000       eq12(orf,o)
      350       eq12(orf,s)
       20       eq12(orf,th)
       50       eq12(orf,tss)

REMAINING 18 ENTRIES SKIPPED

---- F_rec  flow rate of streams exiting tu that enter tup for recycle

F_rec(st,st)
                (.LO, .L, .UP, .M = 0, 0, 0, 0)
        1       eq6(st)
       (0)      eq12(st,o)
       (0)      eq12(st,s)
       (0)      eq12(st,th)
       (0)      eq12(st,tss)
       (0)      eq13(st,o)
       (0)      eq13(st,s)
       (0)      eq13(st,th)
       (0)      eq13(st,tss)
       -1       eq7(st)
        1       eq22(st,st)
        1       eq26(st,st)

F_rec(st,igf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq6(igf)
       (0)      eq12(igf,o)
       (0)      eq12(igf,s)
       (0)      eq12(igf,th)
       (0)      eq12(igf,tss)
       (0)      eq13(st,o)
       (0)      eq13(st,s)
       (0)      eq13(st,th)
       (0)      eq13(st,tss)
       -1       eq7(st)
        1       eq22(st,igf)
        1       eq26(st,igf)

F_rec(st,orf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq6(orf)
       (0)      eq12(orf,o)
       (0)      eq12(orf,s)
       (0)      eq12(orf,th)
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 21
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     F_rec  flow rate of streams exiting tu that enter tup for recycle

       (0)      eq12(orf,tss)
       (0)      eq13(st,o)
       (0)      eq13(st,s)
       (0)      eq13(st,th)
       (0)      eq13(st,tss)
       -1       eq7(st)
        1       eq22(st,orf)
        1       eq26(st,orf)

REMAINING 46 ENTRIES SKIPPED

---- F_exit  flow rate of streams leaving tu to the discharge point

F_exit(st)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       (0)      eq13(st,o)
       (0)      eq13(st,s)
       (0)      eq13(st,th)
       (0)      eq13(st,tss)
       -1       eq7(st)
        1       eq8
       (0)      eqX(o)
       (0)      eqX(s)
       (0)      eqX(th)
       (0)      eqX(tss)
        1       eq23(st)
        1       eq27(st)
      -10       eq15(o)
     -150       eq15(s)
       -1       eq15(th)
       -1       eq15(tss)

F_exit(igf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       (0)      eq13(igf,o)
       (0)      eq13(igf,s)
       (0)      eq13(igf,th)
       (0)      eq13(igf,tss)
       -1       eq7(igf)
        1       eq8
       (0)      eqX(o)
       (0)      eqX(s)
       (0)      eqX(th)
       (0)      eqX(tss)
        1       eq23(igf)
        1       eq27(igf)
      -10       eq15(o)
     -150       eq15(s)
       -1       eq15(th)
       -1       eq15(tss)

GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 22
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     F_exit  flow rate of streams leaving tu to the discharge point

F_exit(orf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       (0)      eq13(orf,o)
       (0)      eq13(orf,s)
       (0)      eq13(orf,th)
       (0)      eq13(orf,tss)
       -1       eq7(orf)
        1       eq8
       (0)      eqX(o)
       (0)      eqX(s)
       (0)      eqX(th)
       (0)      eqX(tss)
        1       eq23(orf)
        1       eq27(orf)
      -10       eq15(o)
     -150       eq15(s)
       -1       eq15(th)
       -1       eq15(tss)

REMAINING 4 ENTRIES SKIPPED

---- F_in  flow rate of streams entering tu

F_in(st)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq6(st)
        1       eq24(st)
        1       eq28(st)
        1       eq9(st)
    -2500       eq14(st,o)
     -400       eq14(st,s)
     -400       eq14(st,th)
     -100       eq14(st,tss)
    -3098.76    eq18(st)

F_in(igf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq6(igf)
        1       eq24(igf)
        1       eq28(igf)
        1       eq9(igf)
    -2500       eq14(igf,o)
     -400       eq14(igf,s)
     -400       eq14(igf,th)
     -100       eq14(igf,tss)
    -2339.64    eq18(igf)

F_in(orf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq6(orf)
        1       eq24(orf)
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 23
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     F_in  flow rate of streams entering tu

        1       eq28(orf)
        1       eq9(orf)
    -2500       eq14(orf,o)
     -400       eq14(orf,s)
     -400       eq14(orf,th)
     -100       eq14(orf,tss)
    -1248.9     eq18(orf)

REMAINING 4 ENTRIES SKIPPED

---- F_out  flow rate of streams directly exiting tu

F_out(st)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq9(st)
        1       eq7(st)

F_out(igf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq9(igf)
        1       eq7(igf)

F_out(orf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq9(orf)
        1       eq7(orf)

REMAINING 4 ENTRIES SKIPPED

---- C_out  concentration of stream directly exiting tu

C_out(st,o)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       (0)      eq12(st,o)
       (0)      eq12(igf,o)
       (0)      eq12(orf,o)
       (0)      eq12(hcy,o)
       (0)      eq12(ls,o)
       (0)      eq12(evap,o)
       (0)      eq12(wac,o)
       (0)      eq13(st,o)
       (0)      eqX(o)

C_out(st,s)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       (0)      eq12(st,s)
       (0)      eq12(igf,s)
       (0)      eq12(orf,s)
       (0)      eq12(hcy,s)
       (0)      eq12(ls,s)
       (0)      eq12(evap,s)
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 24
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     C_out  concentration of stream directly exiting tu

       (0)      eq12(wac,s)
       (0)      eq13(st,s)
       (0)      eqX(s)

C_out(st,th)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       (0)      eq12(st,th)
       (0)      eq12(igf,th)
       (0)      eq12(orf,th)
       (0)      eq12(hcy,th)
       (0)      eq12(ls,th)
       (0)      eq12(evap,th)
       (0)      eq12(wac,th)
       (0)      eq13(st,th)
       (0)      eqX(th)

REMAINING 25 ENTRIES SKIPPED

---- C_BFW  concentration of c in BFW

C_BFW(o)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -625       eqX(o)
      625       eq15(o)

C_BFW(s)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -625       eqX(s)
      625       eq15(s)

C_BFW(th)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -625       eqX(th)
      625       eq15(th)

REMAINING ENTRY SKIPPED

---- ML_in  mass load of c entering tu

ML_in(st,o)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq12(st,o)
        0.1     eq10(st,o)
        1       eq14(st,o)

ML_in(st,s)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq12(st,s)
        1       eq10(st,s)
        1       eq14(st,s)

GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 25
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     ML_in  mass load of c entering tu

ML_in(st,th)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq12(st,th)
        1       eq10(st,th)
        1       eq14(st,th)

REMAINING 25 ENTRIES SKIPPED

---- ML_out  mass load of c exiting tu

ML_out(st,o)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq13(st,o)
       -1       eq10(st,o)

ML_out(st,s)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq13(st,s)
       -1       eq10(st,s)

ML_out(st,th)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       eq13(st,th)
       -1       eq10(st,th)

REMAINING 25 ENTRIES SKIPPED

---- ML_rem_c  mass load of c removed from system

ML_rem_c(o)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq17(o)

ML_rem_c(s)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq17(s)

ML_rem_c(th)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq17(th)

REMAINING ENTRY SKIPPED

---- Cost_tot_tu  total cost of tu

Cost_tot_tu(st)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq18(st)
       -1       eq2

Cost_tot_tu(igf)
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 26
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     Cost_tot_tu  total cost of tu

                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq18(igf)
       -1       eq2

Cost_tot_tu(orf)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq18(orf)
       -1       eq2

REMAINING 4 ENTRIES SKIPPED

---- Cost_tot  total capital cost of the system

Cost_tot
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       eq2
       -1       objective


---- B_s_tu  binary variable to show the existence of stream s into tu

B_s_tu(pw,st)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -625       eq21(pw,st)
      -20       eq25(pw,st)
        1       eq29(st)

B_s_tu(pw,igf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -625       eq21(pw,igf)
      -20       eq25(pw,igf)
        1       eq29(igf)

B_s_tu(pw,orf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -625       eq21(pw,orf)
      -20       eq25(pw,orf)
        1       eq29(orf)

REMAINING 18 ENTRIES SKIPPED

---- B_tu_tup  binary variable to show the existence of tu into tup recylce

B_tu_tup(st,st)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       eq29(st)
     -625       eq22(st,st)
      -20       eq26(st,st)

B_tu_tup(st,igf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 27
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     B_tu_tup  binary variable to show the existence of tu into tup recylce

        1       eq19(st,igf)
        1       eq19(igf,st)
        1       eq29(st)
     -625       eq22(st,igf)
      -20       eq26(st,igf)

B_tu_tup(st,orf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
        1       eq19(st,orf)
        1       eq19(orf,st)
        1       eq29(st)
     -625       eq22(st,orf)
      -20       eq26(st,orf)

REMAINING 46 ENTRIES SKIPPED

---- B_exit  binary variable to show the existence of stream from tu to discharge

B_exit(st)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -625       eq23(st)
      -20       eq27(st)

B_exit(igf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -625       eq23(igf)
      -20       eq27(igf)

B_exit(orf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
     -625       eq23(orf)
      -20       eq27(orf)

REMAINING 4 ENTRIES SKIPPED

---- B_tu  binary variable to show the existence of tu

B_tu(st)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
    -1250       eq24(st)
      -20       eq28(st)

B_tu(igf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
    -1250       eq24(igf)
      -20       eq28(igf)
   -35877       eq18(igf)

B_tu(orf)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
    -1250       eq24(orf)
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 28
minlp_eqns
Column Listing      SOLVE water Using MINLP From line 404


     B_tu  binary variable to show the existence of tu

      -20       eq28(orf)
      401.99    eq18(orf)

REMAINING 4 ENTRIES SKIPPED

---- obj  objective variable

obj
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       objective

GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 29
minlp_eqns
Model Statistics    SOLVE water Using MINLP From line 404


MODEL STATISTICS

BLOCKS OF EQUATIONS          26     SINGLE EQUATIONS          376
BLOCKS OF VARIABLES          18     SINGLE VARIABLES          279
NON ZERO ELEMENTS         1,697     NON LINEAR N-Z            700
DERIVATIVE POOL              10     CONSTANT POOL              16
CODE LENGTH               1,040     DISCRETE VARIABLES         84


GENERATION TIME      =        0.031 SECONDS      4 Mb  WEX239-239 Nov  9, 2012


EXECUTION TIME       =        0.031 SECONDS      4 Mb  WEX239-239 Nov  9, 2012
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 30
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


               S O L V E      S U M M A R Y

     MODEL   water               OBJECTIVE  obj
     TYPE    MINLP               DIRECTION  MINIMIZE
     SOLVER  BARON               FROM LINE  404

**** SOLVER STATUS     3 Resource Interrupt        
**** MODEL STATUS      8 Integer Solution          
**** OBJECTIVE VALUE         12725510.3859

 RESOURCE USAGE, LIMIT       1000.010      1000.000
 ITERATION COUNT, LIMIT         0    2000000000
 EVALUATION ERRORS              0             0

GAMS/BARON       Jul  4, 2012 23.9.5 WEX 36376.36401 WEI x86_64/MS Windows    

Branch And Reduce Optimization Navigator
Nikolaos Sahinidis and Mohit Tawarmalani
The Optimization Firm, LLC.


---- EQU eq17  

           LOWER          LEVEL          UPPER         MARGINAL

o            .              .              .              .          
s            .              .              .              .          
th           .              .              .              .          
tss          .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU eq4              625.0000       625.0000       625.0000          .          

---- EQU eq5  

           LOWER          LEVEL          UPPER         MARGINAL

pw           .              .              .              .          
muw          .              .              .              .          
bbd          .              .              .              .          

---- EQU eq21  

                LOWER          LEVEL          UPPER         MARGINAL

pw .st          -INF             .              .              .          
pw .igf         -INF             .              .              .          
pw .orf         -INF         -150.0000          .              .          
pw .hcy         -INF             .              .              .          
pw .ls          -INF             .              .              .          
pw .evap        -INF             .              .              .          
pw .wac         -INF             .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 31
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq21  

                LOWER          LEVEL          UPPER         MARGINAL

muw.st          -INF             .              .              .          
muw.igf         -INF             .              .              .          
muw.orf         -INF             .              .              .          
muw.hcy         -INF             .              .              .          
muw.ls          -INF             .              .              .          
muw.evap        -INF             .              .              .          
muw.wac         -INF         -475.0000          .              .          
bbd.st          -INF             .              .              .          
bbd.igf         -INF             .              .              .          
bbd.orf         -INF             .              .              .          
bbd.hcy         -INF             .              .              .          
bbd.ls          -INF             .              .              .          
bbd.evap        -INF             .              .              .          
bbd.wac         -INF             .              .              .          

---- EQU eq25  

                LOWER          LEVEL          UPPER         MARGINAL

pw .st            .              .            +INF             .          
pw .igf           .              .            +INF             .          
pw .orf           .           455.0000        +INF             .          
pw .hcy           .              .            +INF             .          
pw .ls            .              .            +INF             .          
pw .evap          .              .            +INF             .          
pw .wac           .              .            +INF             .          
muw.st            .              .            +INF             .          
muw.igf           .              .            +INF             .          
muw.orf           .              .            +INF             .          
muw.hcy           .              .            +INF             .          
muw.ls            .              .            +INF             .          
muw.evap          .              .            +INF             .          
muw.wac           .           130.0000        +INF             .          
bbd.st            .              .            +INF             .          
bbd.igf           .              .            +INF             .          
bbd.orf           .              .            +INF             .          
bbd.hcy           .              .            +INF             .          
bbd.ls            .              .            +INF             .          
bbd.evap          .              .            +INF             .          
bbd.wac           .              .            +INF             .          

---- EQU eq6  

            LOWER          LEVEL          UPPER         MARGINAL

st            .              .              .              .          
igf           .              .              .              .          
orf           .              .              .              .          
hcy           .              .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 32
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq6  

            LOWER          LEVEL          UPPER         MARGINAL

ls            .              .              .              .          
evap          .              .              .              .          
wac           .              .              .              .          

---- EQU eq24  

            LOWER          LEVEL          UPPER         MARGINAL

st          -INF         -625.0000          .              .          
igf         -INF             .              .              .          
orf         -INF         -775.0000          .              .          
hcy         -INF         -775.0000          .              .          
ls          -INF        -1012.6984          .              .          
evap        -INF             .              .              .          
wac         -INF         -625.0000          .              .          

---- EQU eq28  

            LOWER          LEVEL          UPPER         MARGINAL

st            .           605.0000        +INF             .          
igf           .              .            +INF             .          
orf           .           455.0000        +INF             .          
hcy           .           455.0000        +INF             .          
ls            .           217.3016        +INF             .          
evap          .              .            +INF             .          
wac           .           605.0000        +INF             .          

---- EQU eq9  

            LOWER          LEVEL          UPPER         MARGINAL

st            .              .              .              .          
igf           .              .              .              .          
orf           .              .              .              .          
hcy           .              .              .              .          
ls            .              .              .              .          
evap          .              .              .              .          
wac           .              .              .              .          

---- EQU eq12  

                LOWER          LEVEL          UPPER         MARGINAL

st  .o            .              .              .              .          
st  .s            .              .              .              .          
st  .th           .              .              .              .          
st  .tss          .              .              .              .          
igf .o            .              .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 33
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq12  

                LOWER          LEVEL          UPPER         MARGINAL

igf .s            .              .              .              .          
igf .th           .              .              .              .          
igf .tss          .              .              .              .          
orf .o            .              .              .              .          
orf .s            .              .              .              .          
orf .th           .              .              .              .          
orf .tss          .              .              .              .          
hcy .o            .              .              .              .          
hcy .s            .       -1.300068E-7          .              .          
hcy .th           .              .              .              .          
hcy .tss          .              .              .              .          
ls  .o            .       5.9997546E-8          .              .          
ls  .s            .       1.0000076E-7          .              .          
ls  .th           .              .              .              .          
ls  .tss          .              .              .              .          
evap.o            .              .              .              .          
evap.s            .              .              .              .          
evap.th           .              .              .              .          
evap.tss          .              .              .              .          
wac .o            .              .              .              .          
wac .s            .       -1.750013E-7          .              .          
wac .th           .       -3.500281E-8          .              .          
wac .tss          .              .              .              .          

---- EQU eq13  

                LOWER          LEVEL          UPPER         MARGINAL

st  .o            .              .              .              .          
st  .s            .              .              .              .          
st  .th           .              .              .              .          
st  .tss          .              .              .              .          
igf .o            .              .              .              .          
igf .s            .              .              .              .          
igf .th           .              .              .              .          
igf .tss          .              .              .              .          
orf .o            .              .              .              .          
orf .s            .              .              .              .          
orf .th           .              .              .              .          
orf .tss          .              .              .              .          
hcy .o            .              .              .              .          
hcy .s            .       -1.750013E-7          .              .          
hcy .th           .       -1.499939E-8          .              .          
hcy .tss          .              .              .              .          
ls  .o            .       5.9997546E-8          .              .          
ls  .s            .              .              .              .          
ls  .th           .              .              .              .          
ls  .tss          .              .              .              .          
evap.o            .              .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 34
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq13  

                LOWER          LEVEL          UPPER         MARGINAL

evap.s            .              .              .              .          
evap.th           .              .              .              .          
evap.tss          .              .              .              .          
wac .o            .              .              .              .          
wac .s            .              .              .              .          
wac .th           .              .              .              .          
wac .tss          .              .              .              .          

---- EQU eq10  

                LOWER          LEVEL          UPPER         MARGINAL

st  .o            .              .              .              .          
st  .s            .              .              .              .          
st  .th           .              .              .              .          
st  .tss          .              .              .              .          
igf .o            .              .              .              .          
igf .s            .              .              .              .          
igf .th           .              .              .              .          
igf .tss          .              .              .              .          
orf .o            .              .              .              .          
orf .s            .              .              .              .          
orf .th           .              .              .              .          
orf .tss          .              .              .              .          
hcy .o            .              .              .              .          
hcy .s            .              .              .              .          
hcy .th           .              .              .              .          
hcy .tss          .              .              .              .          
ls  .o            .              .              .              .          
ls  .s            .              .              .              .          
ls  .th           .              .              .              .          
ls  .tss          .              .              .              .          
evap.o            .              .              .              .          
evap.s            .              .              .              .          
evap.th           .              .              .              .          
evap.tss          .              .              .              .          
wac .o            .              .              .              .          
wac .s            .              .              .              .          
wac .th           .              .              .              .          
wac .tss          .              .              .              .          

---- EQU eq14  

                LOWER          LEVEL          UPPER         MARGINAL

st  .o          -INF      -1.556515E+6          .              .          
st  .s          -INF      -156250.0000          .              .          
st  .th         -INF      -249561.2302          .              .          
st  .tss        -INF       -61312.5000          .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 35
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq14  

                LOWER          LEVEL          UPPER         MARGINAL

igf .o          -INF             .              .              .          
igf .s          -INF             .              .              .          
igf .th         -INF             .              .              .          
igf .tss        -INF             .              .              .          
orf .o          -INF      -237500.0000          .              .          
orf .s          -INF       -23750.0000          .              .          
orf .th         -INF      -180500.0000          .              .          
orf .tss        -INF       -23750.0000          .              .          
hcy .o          -INF      -1.102000E+6          .              .          
hcy .s          -INF       -98500.0000          .              .          
hcy .th         -INF      -182873.0159          .              .          
hcy .tss        -INF       -46312.5000          .              .          
ls  .o          -INF      -550539.6825          .              .          
ls  .s          -INF       -11865.0794          .              .          
ls  .th         -INF       -90174.6032          .              .          
ls  .tss        -INF       -23136.9048          .              .          
evap.o          -INF             .              .              .          
evap.s          -INF             .              .              .          
evap.th         -INF             .              .              .          
evap.tss        -INF             .              .              .          
wac .o          -INF      -1.556515E+6          .              .          
wac .s          -INF      -156250.0000          .              .          
wac .th         -INF      -206123.0159          .              .          
wac .tss        -INF       -61312.5000          .              .          

---- EQU eq7  

            LOWER          LEVEL          UPPER         MARGINAL

st            .              .              .              .          
igf           .              .              .              .          
orf           .              .              .              .          
hcy           .              .              .              .          
ls            .              .              .              .          
evap          .              .              .              .          
wac           .              .              .              .          

---- EQU eq19  

                 LOWER          LEVEL          UPPER         MARGINAL

st  .igf         -INF             .             1.0000          .          
st  .orf         -INF             .             1.0000          .          
st  .hcy         -INF             .             1.0000          .          
st  .ls          -INF             .             1.0000          .          
st  .evap        -INF             .             1.0000          .          
st  .wac         -INF            1.0000         1.0000          .          
igf .st          -INF             .             1.0000          .          
igf .orf         -INF             .             1.0000          .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 36
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq19  

                 LOWER          LEVEL          UPPER         MARGINAL

igf .hcy         -INF             .             1.0000          .          
igf .ls          -INF             .             1.0000          .          
igf .evap        -INF             .             1.0000          .          
igf .wac         -INF             .             1.0000          .          
orf .st          -INF             .             1.0000          .          
orf .igf         -INF             .             1.0000          .          
orf .hcy         -INF            1.0000         1.0000          .          
orf .ls          -INF            1.0000         1.0000          .          
orf .evap        -INF             .             1.0000          .          
orf .wac         -INF             .             1.0000          .          
hcy .st          -INF             .             1.0000          .          
hcy .igf         -INF             .             1.0000          .          
hcy .orf         -INF            1.0000         1.0000          .          
hcy .ls          -INF            1.0000         1.0000          .          
hcy .evap        -INF             .             1.0000          .          
hcy .wac         -INF            1.0000         1.0000          .          
ls  .st          -INF             .             1.0000          .          
ls  .igf         -INF             .             1.0000          .          
ls  .orf         -INF            1.0000         1.0000          .          
ls  .hcy         -INF            1.0000         1.0000          .          
ls  .evap        -INF             .             1.0000          .          
ls  .wac         -INF             .             1.0000          .          
evap.st          -INF             .             1.0000          .          
evap.igf         -INF             .             1.0000          .          
evap.orf         -INF             .             1.0000          .          
evap.hcy         -INF             .             1.0000          .          
evap.ls          -INF             .             1.0000          .          
evap.wac         -INF             .             1.0000          .          
wac .st          -INF            1.0000         1.0000          .          
wac .igf         -INF             .             1.0000          .          
wac .orf         -INF             .             1.0000          .          
wac .hcy         -INF            1.0000         1.0000          .          
wac .ls          -INF             .             1.0000          .          
wac .evap        -INF             .             1.0000          .          

---- EQU eq29  

            LOWER          LEVEL          UPPER         MARGINAL

st          -INF             .             5.0000          .          
igf         -INF             .             5.0000          .          
orf         -INF            3.0000         5.0000          .          
hcy         -INF            1.0000         5.0000          .          
ls          -INF            1.0000         5.0000          .          
evap        -INF             .             5.0000          .          
wac         -INF            2.0000         5.0000          .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 37
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


---- EQU eq22  

                 LOWER          LEVEL          UPPER         MARGINAL

st  .st          -INF             .              .              .          
st  .igf         -INF             .              .              .          
st  .orf         -INF             .              .              .          
st  .hcy         -INF             .              .              .          
st  .ls          -INF             .              .              .          
st  .evap        -INF             .              .              .          
st  .wac         -INF             .              .              .          
igf .st          -INF             .              .              .          
igf .igf         -INF             .              .              .          
igf .orf         -INF             .              .              .          
igf .hcy         -INF             .              .              .          
igf .ls          -INF             .              .              .          
igf .evap        -INF             .              .              .          
igf .wac         -INF             .              .              .          
orf .st          -INF             .              .              .          
orf .igf         -INF             .              .              .          
orf .orf         -INF             .              .              .          
orf .hcy         -INF         -387.3016          .              .          
orf .ls          -INF         -387.6984          .              .          
orf .evap        -INF             .              .              .          
orf .wac         -INF             .              .              .          
hcy .st          -INF             .              .              .          
hcy .igf         -INF             .              .              .          
hcy .orf         -INF             .              .              .          
hcy .hcy         -INF             .              .              .          
hcy .ls          -INF             .              .              .          
hcy .evap        -INF             .              .              .          
hcy .wac         -INF         -150.0000          .              .          
ls  .st          -INF             .              .              .          
ls  .igf         -INF             .              .              .          
ls  .orf         -INF             .              .              .          
ls  .hcy         -INF         -387.6984          .              .          
ls  .ls          -INF             .              .              .          
ls  .evap        -INF             .              .              .          
ls  .wac         -INF             .              .              .          
evap.st          -INF             .              .              .          
evap.igf         -INF             .              .              .          
evap.orf         -INF             .              .              .          
evap.hcy         -INF             .              .              .          
evap.ls          -INF             .              .              .          
evap.evap        -INF             .              .              .          
evap.wac         -INF             .              .              .          
wac .st          -INF             .              .              .          
wac .igf         -INF             .              .              .          
wac .orf         -INF             .              .              .          
wac .hcy         -INF             .              .              .          
wac .ls          -INF             .              .              .          
wac .evap        -INF             .              .              .          
wac .wac         -INF             .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 38
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


---- EQU eq26  

                 LOWER          LEVEL          UPPER         MARGINAL

st  .st            .              .            +INF             .          
st  .igf           .              .            +INF             .          
st  .orf           .              .            +INF             .          
st  .hcy           .              .            +INF             .          
st  .ls            .              .            +INF             .          
st  .evap          .              .            +INF             .          
st  .wac           .              .            +INF             .          
igf .st            .              .            +INF             .          
igf .igf           .              .            +INF             .          
igf .orf           .              .            +INF             .          
igf .hcy           .              .            +INF             .          
igf .ls            .              .            +INF             .          
igf .evap          .              .            +INF             .          
igf .wac           .              .            +INF             .          
orf .st            .              .            +INF             .          
orf .igf           .              .            +INF             .          
orf .orf           .              .            +INF             .          
orf .hcy           .           217.6984        +INF             .          
orf .ls            .           217.3016        +INF             .          
orf .evap          .              .            +INF             .          
orf .wac           .              .            +INF             .          
hcy .st            .              .            +INF             .          
hcy .igf           .              .            +INF             .          
hcy .orf           .              .            +INF             .          
hcy .hcy           .              .            +INF             .          
hcy .ls            .              .            +INF             .          
hcy .evap          .              .            +INF             .          
hcy .wac           .           455.0000        +INF             .          
ls  .st            .              .            +INF             .          
ls  .igf           .              .            +INF             .          
ls  .orf           .              .            +INF             .          
ls  .hcy           .           217.3016        +INF             .          
ls  .ls            .              .            +INF             .          
ls  .evap          .              .            +INF             .          
ls  .wac           .              .            +INF             .          
evap.st            .              .            +INF             .          
evap.igf           .              .            +INF             .          
evap.orf           .              .            +INF             .          
evap.hcy           .              .            +INF             .          
evap.ls            .              .            +INF             .          
evap.evap          .              .            +INF             .          
evap.wac           .              .            +INF             .          
wac .st            .           605.0000        +INF             .          
wac .igf           .              .            +INF             .          
wac .orf           .              .            +INF             .          
wac .hcy           .              .            +INF             .          
wac .ls            .              .            +INF             .          
wac .evap          .              .            +INF             .          
wac .wac           .              .            +INF             .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 39
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU eq8              625.0000       625.0000       625.0000          .          

---- EQU eqX  

           LOWER          LEVEL          UPPER         MARGINAL

o            .              .              .              .          
s            .              .              .              .          
th           .              .              .              .          
tss          .              .              .              .          

---- EQU eq23  

            LOWER          LEVEL          UPPER         MARGINAL

st          -INF             .              .              .          
igf         -INF             .              .              .          
orf         -INF             .              .              .          
hcy         -INF             .              .              .          
ls          -INF             .              .              .          
evap        -INF             .              .              .          
wac         -INF             .              .              .          

---- EQU eq27  

            LOWER          LEVEL          UPPER         MARGINAL

st            .           605.0000        +INF             .          
igf           .              .            +INF             .          
orf           .              .            +INF             .          
hcy           .              .            +INF             .          
ls            .              .            +INF             .          
evap          .              .            +INF             .          
wac           .              .            +INF             .          

---- EQU eq15  

           LOWER          LEVEL          UPPER         MARGINAL

o          -INF        -5651.5000          .              .          
s          -INF             .              .              .          
th         -INF         -186.2302          .              .          
tss        -INF          -31.2500          .              .          

---- EQU eq18  

            LOWER          LEVEL          UPPER         MARGINAL

st            .              .              .              .          
igf           .              .              .              .          
orf           .              .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 40
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     EQU eq18  

            LOWER          LEVEL          UPPER         MARGINAL

hcy           .              .              .              .          
ls            .       -2.737157E-6          .              .          
evap          .              .              .              .          
wac           .              .              .              .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU eq2                 .       -4.000030E-5          .              .          
---- EQU objective           .              .              .             1.0000      

---- VAR F_s  flow rate of source water

           LOWER          LEVEL          UPPER         MARGINAL

pw        475.0000       475.0000       475.0000          .          
muw          .           150.0000        +INF             .          
bbd          .              .              .              .          

---- VAR F_s_tu  flow rate of s entering tu

                LOWER          LEVEL          UPPER         MARGINAL

pw .st            .              .            +INF             .          
pw .igf           .              .            +INF             .          
pw .orf           .           475.0000        +INF             .          
pw .hcy           .              .            +INF             .          
pw .ls            .              .            +INF             .          
pw .evap          .              .            +INF             .          
pw .wac           .              .            +INF             .          
muw.st            .              .            +INF             .          
muw.igf           .              .            +INF             .          
muw.orf           .              .            +INF             .          
muw.hcy           .              .            +INF             .          
muw.ls            .              .            +INF             .          
muw.evap          .              .            +INF             .          
muw.wac           .           150.0000        +INF             .          
bbd.st            .              .            +INF             .          
bbd.igf           .              .            +INF             .          
bbd.orf           .              .            +INF             .          
bbd.hcy           .              .            +INF             .          
bbd.ls            .              .            +INF             .          
bbd.evap          .              .            +INF             .          
bbd.wac           .              .            +INF             .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 41
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


---- VAR F_rec  flow rate of streams exiting tu that enter tup for recycle

                 LOWER          LEVEL          UPPER         MARGINAL

st  .st            .              .              .              .          
st  .igf           .              .            +INF             .          
st  .orf           .              .            +INF             .          
st  .hcy           .              .            +INF             .          
st  .ls            .              .            +INF             .          
st  .evap          .              .            +INF             .          
st  .wac           .              .            +INF             .          
igf .st            .              .            +INF             .          
igf .igf           .              .              .              .          
igf .orf           .              .            +INF             .          
igf .hcy           .              .            +INF             .          
igf .ls            .              .            +INF             .          
igf .evap          .              .            +INF             .          
igf .wac           .              .            +INF             .          
orf .st            .              .            +INF             .          
orf .igf           .              .            +INF             .          
orf .orf           .              .              .              .          
orf .hcy           .           237.6984        +INF             .          
orf .ls            .           237.3016        +INF             .          
orf .evap          .              .            +INF             .          
orf .wac           .              .            +INF             .          
hcy .st            .              .            +INF             .          
hcy .igf           .              .            +INF             .          
hcy .orf           .              .            +INF             .          
hcy .hcy           .              .              .              .          
hcy .ls            .              .            +INF             .          
hcy .evap          .              .            +INF             .          
hcy .wac           .           475.0000        +INF             .          
ls  .st            .              .            +INF             .          
ls  .igf           .              .            +INF             .          
ls  .orf           .              .            +INF             .          
ls  .hcy           .           237.3016        +INF             .          
ls  .ls            .              .              .              .          
ls  .evap          .              .            +INF             .          
ls  .wac           .              .            +INF             .          
evap.st            .              .            +INF             .          
evap.igf           .              .            +INF             .          
evap.orf           .              .            +INF             .          
evap.hcy           .              .            +INF             .          
evap.ls            .              .            +INF             .          
evap.evap          .              .              .              .          
evap.wac           .              .            +INF             .          
wac .st            .           625.0000        +INF             .          
wac .igf           .              .            +INF             .          
wac .orf           .              .            +INF             .          
wac .hcy           .              .            +INF             .          
wac .ls            .              .            +INF             .          
wac .evap          .              .            +INF             .          
wac .wac           .              .              .              .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 42
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


---- VAR F_exit  flow rate of streams leaving tu to the discharge point

            LOWER          LEVEL          UPPER         MARGINAL

st            .           625.0000        +INF             .          
igf           .              .            +INF             .          
orf           .              .            +INF             .          
hcy           .              .            +INF             .          
ls            .              .            +INF             .          
evap          .              .            +INF             .          
wac           .              .            +INF             .          

---- VAR F_in  flow rate of streams entering tu

            LOWER          LEVEL          UPPER         MARGINAL

st            .           625.0000        +INF             .          
igf           .              .            +INF             .          
orf           .           475.0000        +INF             .          
hcy           .           475.0000        +INF             .          
ls            .           237.3016        +INF             .          
evap          .              .            +INF             .          
wac           .           625.0000        +INF             .          

---- VAR F_out  flow rate of streams directly exiting tu

            LOWER          LEVEL          UPPER         MARGINAL

st            .           625.0000        +INF             .          
igf           .              .            +INF             .          
orf           .           475.0000        +INF             .          
hcy           .           475.0000        +INF             .          
ls            .           237.3016        +INF             .          
evap          .              .            +INF             .          
wac           .           625.0000        +INF             .          

---- VAR C_out  concentration of stream directly exiting tu

                LOWER          LEVEL          UPPER         MARGINAL

st  .o            .             0.9576        +INF             .          
st  .s            .           150.0000        +INF             .          
st  .th           .             0.7020        +INF             .          
st  .tss          .             0.9500        +INF             .          
igf .o            .              .            +INF             .          
igf .s            .              .            +INF             .          
igf .th           .              .            +INF             .          
igf .tss          .             0.3062        +INF             .          
orf .o            .           180.0000        +INF             .          
orf .s            .           350.0000        +INF             .          
orf .th           .            20.0000        +INF             .          
orf .tss          .             2.5000        +INF             .          
hcy .o            .            12.6000        +INF             .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 43
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     VAR C_out  concentration of stream directly exiting tu

                LOWER          LEVEL          UPPER         MARGINAL

hcy .s            .           192.6316        +INF             .          
hcy .th           .            15.0042        +INF             .          
hcy .tss          .             2.5000        +INF             .          
ls  .o            .           180.0000        +INF             .          
ls  .s            .            35.0000        +INF             .          
ls  .th           .            10.0000        +INF             .          
ls  .tss          .             2.5000        +INF             .          
evap.o            .            23.3809        +INF             .          
evap.s            .             1.8537        +INF             .          
evap.th           .             1.1567        +INF             .          
evap.tss          .          1297.3011        +INF             .          
wac .o            .             9.5760        +INF             .          
wac .s            .           150.0000        +INF             .          
wac .th           .             0.7020        +INF             .          
wac .tss          .             1.9000        +INF             .          

---- VAR C_BFW  concentration of c in BFW

           LOWER          LEVEL          UPPER         MARGINAL

o            .             0.9576        +INF             .          
s            .           150.0000        +INF             .          
th           .             0.7020        +INF             .          
tss          .             0.9500        +INF             .          

---- VAR ML_in  mass load of c entering tu

                LOWER          LEVEL          UPPER         MARGINAL

st  .o            .          5985.0000        +INF             .          
st  .s            .         93750.0000        +INF             .          
st  .th           .           438.7698        +INF             .          
st  .tss          .          1187.5000        +INF             .          
igf .o            .              .            +INF             .          
igf .s            .              .            +INF             .          
igf .th           .              .            +INF             .          
igf .tss          .              .            +INF             .          
orf .o            .        950000.0000        +INF             .          
orf .s            .        166250.0000        +INF             .          
orf .th           .          9500.0000        +INF             .          
orf .tss          .         23750.0000        +INF             .          
hcy .o            .         85500.0000        +INF             .          
hcy .s            .         91500.0000        +INF             .          
hcy .th           .          7126.9841        +INF             .          
hcy .tss          .          1187.5000        +INF             .          
ls  .o            .         42714.2857        +INF             .          
ls  .s            .         83055.5556        +INF             .          
ls  .th           .          4746.0317        +INF             .          
ls  .tss          .           593.2540        +INF             .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 44
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     VAR ML_in  mass load of c entering tu

                LOWER          LEVEL          UPPER         MARGINAL

evap.o            .              .            +INF             .          
evap.s            .              .            +INF             .          
evap.th           .              .            +INF             .          
evap.tss          .              .            +INF             .          
wac .o            .          5985.0000        +INF             .          
wac .s            .         93750.0000        +INF             .          
wac .th           .         43876.9841        +INF             .          
wac .tss          .          1187.5000        +INF             .          

---- VAR ML_out  mass load of c exiting tu

                LOWER          LEVEL          UPPER         MARGINAL

st  .o            .           598.5000        +INF             .          
st  .s            .         93750.0000        +INF             .          
st  .th           .           438.7698        +INF             .          
st  .tss          .           593.7500        +INF             .          
igf .o            .              .            +INF             .          
igf .s            .              .            +INF             .          
igf .th           .              .            +INF             .          
igf .tss          .              .            +INF             .          
orf .o            .         85500.0000        +INF             .          
orf .s            .        166250.0000        +INF             .          
orf .th           .          9500.0000        +INF             .          
orf .tss          .          1187.5000        +INF             .          
hcy .o            .          5985.0000        +INF             .          
hcy .s            .         91500.0000        +INF             .          
hcy .th           .          7126.9841        +INF             .          
hcy .tss          .          1187.5000        +INF             .          
ls  .o            .         42714.2857        +INF             .          
ls  .s            .          8305.5556        +INF             .          
ls  .th           .          2373.0159        +INF             .          
ls  .tss          .           593.2540        +INF             .          
evap.o            .              .            +INF             .          
evap.s            .              .            +INF             .          
evap.th           .              .            +INF             .          
evap.tss          .              .            +INF             .          
wac .o            .          5985.0000        +INF             .          
wac .s            .         93750.0000        +INF             .          
wac .th           .           438.7698        +INF             .          
wac .tss          .          1187.5000        +INF             .          

---- VAR ML_rem_c  mass load of c removed from system

           LOWER          LEVEL          UPPER         MARGINAL

o            .        943750.0000        +INF             .          
s            .         74750.0000        +INF             .          
th           .         45625.0000        +INF             .          
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 45
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


     VAR ML_rem_c  mass load of c removed from system

           LOWER          LEVEL          UPPER         MARGINAL

tss          .         23125.0000        +INF             .          

---- VAR Cost_tot_tu  total cost of tu

            LOWER          LEVEL          UPPER         MARGINAL

st            .       1936725.0000        +INF             .          
igf           .              .            +INF             .          
orf           .        592825.5100        +INF             .          
hcy           .       1475476.0000        +INF             .          
ls            .       2241376.5079        +INF             .          
evap          .              .            +INF             .          
wac           .       1277857.3680        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR Cost_tot            .       1.2725510E+7        +INF             .          

  Cost_tot  total capital cost of the system

---- VAR B_s_tu  binary variable to show the existence of stream s into tu

                LOWER          LEVEL          UPPER         MARGINAL

pw .st            .              .             1.0000         EPS         
pw .igf           .              .             1.0000         EPS         
pw .orf           .             1.0000         1.0000         EPS         
pw .hcy           .              .             1.0000         EPS         
pw .ls            .              .             1.0000         EPS         
pw .evap          .              .             1.0000         EPS         
pw .wac           .              .             1.0000         EPS         
muw.st            .              .             1.0000         EPS         
muw.igf           .              .             1.0000         EPS         
muw.orf           .              .             1.0000         EPS         
muw.hcy           .              .             1.0000         EPS         
muw.ls            .              .             1.0000         EPS         
muw.evap          .              .             1.0000         EPS         
muw.wac           .             1.0000         1.0000         EPS         
bbd.st            .              .             1.0000         EPS         
bbd.igf           .              .             1.0000         EPS         
bbd.orf           .              .             1.0000         EPS         
bbd.hcy           .              .             1.0000         EPS         
bbd.ls            .              .             1.0000         EPS         
bbd.evap          .              .             1.0000         EPS         
bbd.wac           .              .             1.0000         EPS         
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 46
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


---- VAR B_tu_tup  binary variable to show the existence of tu into tup recylce

                 LOWER          LEVEL          UPPER         MARGINAL

st  .st            .              .             1.0000         EPS         
st  .igf           .              .             1.0000         EPS         
st  .orf           .              .             1.0000         EPS         
st  .hcy           .              .             1.0000         EPS         
st  .ls            .              .             1.0000         EPS         
st  .evap          .              .             1.0000         EPS         
st  .wac           .              .             1.0000         EPS         
igf .st            .              .             1.0000         EPS         
igf .igf           .              .             1.0000         EPS         
igf .orf           .              .             1.0000         EPS         
igf .hcy           .              .             1.0000         EPS         
igf .ls            .              .             1.0000         EPS         
igf .evap          .              .             1.0000         EPS         
igf .wac           .              .             1.0000         EPS         
orf .st            .              .             1.0000         EPS         
orf .igf           .              .             1.0000         EPS         
orf .orf           .              .             1.0000         EPS         
orf .hcy           .             1.0000         1.0000         EPS         
orf .ls            .             1.0000         1.0000         EPS         
orf .evap          .              .             1.0000         EPS         
orf .wac           .              .             1.0000         EPS         
hcy .st            .              .             1.0000         EPS         
hcy .igf           .              .             1.0000         EPS         
hcy .orf           .              .             1.0000         EPS         
hcy .hcy           .              .             1.0000         EPS         
hcy .ls            .              .             1.0000         EPS         
hcy .evap          .              .             1.0000         EPS         
hcy .wac           .             1.0000         1.0000         EPS         
ls  .st            .              .             1.0000         EPS         
ls  .igf           .              .             1.0000         EPS         
ls  .orf           .              .             1.0000         EPS         
ls  .hcy           .             1.0000         1.0000         EPS         
ls  .ls            .              .             1.0000         EPS         
ls  .evap          .              .             1.0000         EPS         
ls  .wac           .              .             1.0000         EPS         
evap.st            .              .             1.0000         EPS         
evap.igf           .              .             1.0000         EPS         
evap.orf           .              .             1.0000         EPS         
evap.hcy           .              .             1.0000         EPS         
evap.ls            .              .             1.0000         EPS         
evap.evap          .              .             1.0000         EPS         
evap.wac           .              .             1.0000         EPS         
wac .st            .             1.0000         1.0000         EPS         
wac .igf           .              .             1.0000         EPS         
wac .orf           .              .             1.0000         EPS         
wac .hcy           .              .             1.0000         EPS         
wac .ls            .              .             1.0000         EPS         
wac .evap          .              .             1.0000         EPS         
wac .wac           .              .             1.0000         EPS         
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 47
minlp_eqns
Solution Report     SOLVE water Using MINLP From line 404


---- VAR B_exit  binary variable to show the existence of stream from tu to discharge

            LOWER          LEVEL          UPPER         MARGINAL

st            .             1.0000         1.0000         EPS         
igf           .              .             1.0000         EPS         
orf           .              .             1.0000         EPS         
hcy           .              .             1.0000         EPS         
ls            .              .             1.0000         EPS         
evap          .              .             1.0000         EPS         
wac           .              .             1.0000         EPS         

---- VAR B_tu  binary variable to show the existence of tu

            LOWER          LEVEL          UPPER         MARGINAL

st            .             1.0000         1.0000         EPS         
igf           .              .             1.0000         EPS         
orf           .             1.0000         1.0000         EPS         
hcy           .             1.0000         1.0000         EPS         
ls            .             1.0000         1.0000         EPS         
evap          .              .             1.0000         EPS         
wac           .             1.0000         1.0000         EPS         

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR obj               -INF      1.2725510E+7        +INF             .          

  obj  objective variable


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
GAMS Rev 239  WEX-WEI 23.9.5 x86_64/MS Windows                                                                                                                                                                                        09/13/17 21:47:56 Page 48
minlp_eqns
E x e c u t i o n


EXECUTION TIME       =        0.000 SECONDS      3 Mb  WEX239-239 Nov  9, 2012


USER: Dept of Chemical Engineering                   G120809:1617AA-GEN
      Princeton University                                       DC9841
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\Zain\Documents\GitHub\water_treatment\minlp_main.gms
Output     C:\Users\Zain\Documents\GitHub\water_treatment\minlp_main.lst
